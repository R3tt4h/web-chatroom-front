{"version":3,"sources":["firebase.js","components/Chat.js","components/Sidebar.js","components/Home.js","App.js","reportWebVitals.js","index.js"],"names":["firebaseConfig","apiKey","process","REACT_APP_API_KEY","authDomain","REACT_APP_AUTH_DOMAIN","projectId","REACT_APP_PROJECT_ID","storageBucket","REACT_APP_STORAGE_BUCKET","messagingSenderId","REACT_APP_MESSAGING_SENDER_ID","appId","REACT_APP_APP_ID","getFirestore","initializeApp","require","config","Chat","ChatMessage","props","text","message","date","Date","createdAt","hours","getHours","minutes","getMinutes","ref","dummy","className","name","roomId","localStorage","getItem","useRef","messagesRef","collection","db","q","query","orderBy","limit","useCollectionData","idField","messages","useState","formValuePseudo","setFormValuePseudo","formValueMessage","setFormValueMessage","HOST_URL","REACT_APP_HOST","sendMessage","e","a","preventDefault","timeStamp","payload","pseudo","axios","post","console","log","current","scrollIntoView","behavior","id","map","msg","onSubmit","value","onChange","target","placeholder","autoComplete","type","Sidebar","onClick","setItem","window","location","Home","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c9bcdbc9.chunk.js","sourcesContent":["// Import the functions you need from the SDKs you need\nimport { initializeApp } from \"firebase/app\";\nimport { getFirestore } from \"firebase/firestore\";\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_API_KEY,\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_APP_ID\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\n\nexport default getFirestore();","import { React, useState, useRef } from 'react';\nimport './Chat.css'\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\nimport { collection, query, orderBy, limit } from '@firebase/firestore';\nimport db from \"../firebase\";\nimport 'firebase/compat/firestore';\nimport axios from 'axios';\nrequire('dotenv').config()\n\nfunction Chat() {\n\n    function ChatMessage(props) {\n        const { text } = props.message;\n        const  date  = new Date(props.message.createdAt);\n        const hours = date.getHours();\n        let minutes = date.getMinutes();\n        if ( minutes < 10 ) {\n            minutes = '0' + minutes\n        }\n\n            return (\n              <div ref={ dummy } className=\"message\">\n                <p>{hours}:{minutes} | <strong>{props.message.name}</strong> : {text}</p>\n              </div>\n            )\n    }\n\n    const roomId = localStorage.getItem(\"roomId\")\n\n    const dummy = useRef()\n\n    const messagesRef = collection(db, `/rooms/${roomId}/messages`);\n    \n    const q = query(messagesRef, orderBy(\"createdAt\", \"asc\"), limit(25));\n  \n    const [messages] = useCollectionData(q, { idField: 'id' });\n  \n    const [formValuePseudo, setFormValuePseudo] = useState('');\n    const [formValueMessage, setFormValueMessage] = useState('');\n    \n    const HOST_URL = process.env.REACT_APP_HOST;\n\n    const sendMessage = async(e) => {\n      e.preventDefault();\n        const timeStamp = new Date();\n        const payload = {\n            pseudo: formValuePseudo,\n            message: formValueMessage,\n            createdAt: timeStamp,\n        }\n    \n    axios.post(`${HOST_URL}/api/send/message/${roomId}`, payload)\n    console.log(`${HOST_URL}/api/send/message/${roomId}`)\n        \n      setFormValuePseudo('');\n      setFormValueMessage('');\n\n      dummy.current.scrollIntoView({ behavior: 'smooth' });\n\n    }\n\n    return (\n        <div id=\"chat\">\n            <div className=\"chat\">\n                <div>\n                    { messages && messages.map(msg => <ChatMessage key={msg.id} message={msg} />)}\n                </div>\n            </div>\n            <div className=\"chat-input\">\n                    <form onSubmit={sendMessage}>\n                        <input className=\"input-1\" value={formValuePseudo} onChange={(e) => setFormValuePseudo(e.target.value)} placeholder=\"Pseudo\" autoComplete=\"off\"/>\n                        <div className='message-input'>\n                            <input className=\"input-2\" value={formValueMessage} onChange={(e) => setFormValueMessage(e.target.value)} placeholder=\"Say something...\" autoComplete=\"off\"/>\n                            <button type=\"submit\">Send</button>\n                        </div>\n                    </form>\n            </div>\n        </div>\n    )\n}\n\nexport default Chat\n","import './Sidebar.css'\nimport { React, useEffect, useState} from 'react';\nimport { onSnapshot, collection, doc } from '@firebase/firestore';\nimport db from \"../firebase\";\n\n\nfunction Sidebar() {\n\n    const joinRoom1 = () => {\n        localStorage.setItem(\"roomId\", \"Room1\")\n        const roomId = localStorage.getItem(\"roomId\")\n        window.location = (`/${roomId}`)\n    }\n    const joinRoom2 = () => {\n        localStorage.setItem(\"roomId\", \"Room2\")\n        const roomId = localStorage.getItem(\"roomId\")\n        window.location = (`/${roomId}`)\n    }\n    const joinRoom3 = () => {\n        localStorage.setItem(\"roomId\", \"Room3\")\n        const roomId = localStorage.getItem(\"roomId\")\n        window.location = (`/${roomId}`)\n    }\n    const joinRoom4 = () => {\n        localStorage.setItem(\"roomId\", \"Room4\")\n        const roomId = localStorage.getItem(\"roomId\")\n        window.location = (`/${roomId}`)\n    }\n\n\n    return (\n        <nav id = \"sidebar\">\n            <div className=\"sidebar-div\">\n                <strong>Choose your Room</strong>\n            </div>\n            <ul className = \"sidebar-ul\">\n                <li className = \"sidebar-li\">\n                    <button onClick={joinRoom1}>Room 1</button>\n                </li>\n                <li className = \"sidebar-li \">\n                    <button onClick={joinRoom2}>Room 2</button>\n                </li>\n                <li className = \"sidebar-li\">\n                    <button onClick={joinRoom3}>Room 3</button>\n                </li>\n                <li className = \"sidebar-li\">\n                    <button onClick={joinRoom4}>Room 4</button>\n                </li>\n            </ul>\n        </nav>\n    )\n}\n\nexport default Sidebar\n","import React from 'react'\nimport Chat from './Chat'\nimport Sidebar from './Sidebar'\n\n\nfunction Home() {\n    return (\n        <div>\n            <Sidebar />\n            <Chat />\n        </div>\n    )\n}\n\nexport default Home\n","import './App.css';\nimport Home from './components/Home';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n      </header>\n      <body className=\"App-body\">\n        <Home />\n      </body>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}