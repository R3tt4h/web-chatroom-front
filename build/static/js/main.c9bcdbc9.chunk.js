(this["webpackJsonpfrontend_web-chatroom"]=this["webpackJsonpfrontend_web-chatroom"]||[]).push([[0],{50:function(e,t,o){},51:function(e,t,o){},53:function(e,t,o){},76:function(e,t,o){},77:function(e,t,o){"use strict";o.r(t);var c=o(13),n=o.n(c),a=o(42),i=o.n(a),s=(o(50),o(51),o(1)),r=o.n(s),d=o(3),O=o(12),l=(o(53),o(43)),j=o(4),_=o(44),S=o(16),b={apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_KEY,authDomain:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_AUTH_DOMAIN,projectId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PROJECT_ID,storageBucket:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_STORAGE_BUCKET,messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_MESSAGING_SENDER_ID,appId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_APP_ID},u=(Object(_.a)(b),Object(S.g)()),m=(o(78),o(45)),E=o.n(m),T=o(9);o(72).config();var v=function(){function e(e){var t=e.message.text,c=new Date(e.message.createdAt),n=c.getHours(),a=c.getMinutes();return a<10&&(a="0"+a),Object(T.jsx)("div",{ref:o,className:"message",children:Object(T.jsxs)("p",{children:[n,":",a," | ",Object(T.jsx)("strong",{children:e.message.name})," : ",t]})})}var t=localStorage.getItem("roomId"),o=Object(c.useRef)(),n=Object(j.y)(u,"/rooms/".concat(t,"/messages")),a=Object(j.bb)(n,Object(j.ab)("createdAt","asc"),Object(j.U)(25)),i=Object(l.a)(a,{idField:"id"}),s=Object(O.a)(i,1)[0],_=Object(c.useState)(""),S=Object(O.a)(_,2),b=S[0],m=S[1],v=Object(c.useState)(""),h=Object(O.a)(v,2),C=h[0],R=h[1],g=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_HOST,p=function(){var e=Object(d.a)(r.a.mark((function e(c){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.preventDefault(),n=new Date,a={pseudo:b,message:C,createdAt:n},E.a.post("".concat(g,"/api/send/message/").concat(t),a),console.log("".concat(g,"/api/send/message/").concat(t)),m(""),R(""),o.current.scrollIntoView({behavior:"smooth"});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsxs)("div",{id:"chat",children:[Object(T.jsx)("div",{className:"chat",children:Object(T.jsx)("div",{children:s&&s.map((function(t){return Object(T.jsx)(e,{message:t},t.id)}))})}),Object(T.jsx)("div",{className:"chat-input",children:Object(T.jsxs)("form",{onSubmit:p,children:[Object(T.jsx)("input",{className:"input-1",value:b,onChange:function(e){return m(e.target.value)},placeholder:"Pseudo",autoComplete:"off"}),Object(T.jsxs)("div",{className:"message-input",children:[Object(T.jsx)("input",{className:"input-2",value:C,onChange:function(e){return R(e.target.value)},placeholder:"Say something...",autoComplete:"off"}),Object(T.jsx)("button",{type:"submit",children:"Send"})]})]})})]})};o(76);var h=function(){return Object(T.jsxs)("nav",{id:"sidebar",children:[Object(T.jsx)("div",{className:"sidebar-div",children:Object(T.jsx)("strong",{children:"Choose your Room"})}),Object(T.jsxs)("ul",{className:"sidebar-ul",children:[Object(T.jsx)("li",{className:"sidebar-li",children:Object(T.jsx)("button",{onClick:function(){localStorage.setItem("roomId","Room1");var e=localStorage.getItem("roomId");window.location="/".concat(e)},children:"Room 1"})}),Object(T.jsx)("li",{className:"sidebar-li ",children:Object(T.jsx)("button",{onClick:function(){localStorage.setItem("roomId","Room2");var e=localStorage.getItem("roomId");window.location="/".concat(e)},children:"Room 2"})}),Object(T.jsx)("li",{className:"sidebar-li",children:Object(T.jsx)("button",{onClick:function(){localStorage.setItem("roomId","Room3");var e=localStorage.getItem("roomId");window.location="/".concat(e)},children:"Room 3"})}),Object(T.jsx)("li",{className:"sidebar-li",children:Object(T.jsx)("button",{onClick:function(){localStorage.setItem("roomId","Room4");var e=localStorage.getItem("roomId");window.location="/".concat(e)},children:"Room 4"})})]})]})};var C=function(){return Object(T.jsxs)("div",{children:[Object(T.jsx)(h,{}),Object(T.jsx)(v,{})]})};var R=function(){return Object(T.jsxs)("div",{className:"App",children:[Object(T.jsx)("header",{className:"App-header"}),Object(T.jsx)("body",{className:"App-body",children:Object(T.jsx)(C,{})})]})},g=function(e){e&&e instanceof Function&&o.e(3).then(o.bind(null,79)).then((function(t){var o=t.getCLS,c=t.getFID,n=t.getFCP,a=t.getLCP,i=t.getTTFB;o(e),c(e),n(e),a(e),i(e)}))};i.a.render(Object(T.jsx)(n.a.StrictMode,{children:Object(T.jsx)(R,{})}),document.getElementById("root")),g()}},[[77,1,2]]]);
//# sourceMappingURL=main.c9bcdbc9.chunk.js.map